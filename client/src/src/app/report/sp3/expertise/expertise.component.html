<mat-card [@flyInOut]="'in'">
<div>
<div>
	<mat-sidenav-container class="example-container">

		<mat-list>
			<mat-card-title>{{_sp3_menu_expertisa}}</mat-card-title>
			<mat-card-header>

				 <!-- <mat-menu #menu_tab="matMenu" >
				  <button mat-menu-item >{{_searchFIOD}}</button>
				</mat-menu> -->

				<!-- <button id="btn_header" mat-icon-button [matMenuTriggerFor]="menu_tab">
				   <mat-icon>more_vert</mat-icon>
				</button> -->

				 <!-- <button id="btn_header"  (click)="var_sidenav.open()" mat-fab><mat-icon>add</mat-icon></button> -->
			</mat-card-header>
		</mat-list>
	</mat-sidenav-container>
<mat-progress-bar  *ngIf="progress_bar"  mode="query" color="warn" ></mat-progress-bar>
	<!-- <mat-card-content @questionsAnim> -->
	<mat-card-content>
		<mat-accordion>
		  <mat-expansion-panel (opened)="setTrue(1,true)" (closed)="setTrue(1,false)">
			<mat-expansion-panel-header>
			  <mat-panel-title>
				{{_3a_expertise}}
			  </mat-panel-title>
			  <mat-panel-description>
			  <div *ngIf='panelOpenState1'>
				 <mat-chip-list><mat-chip color="accent" selected="true">{{_report_inform_note_after}}</mat-chip></mat-chip-list>
			  </div>
			  <div *ngIf='!panelOpenState1'>
				 {{_report_inform_note}}
			  </div>

			  </mat-panel-description>
			</mat-expansion-panel-header>


			  <span>{{  _expertise_field1_1 }}</span>
			  <!--<button mat-raised-button>{{_report_inform_btn_download}}</button>-->


				<mat-list>
				    <form [formGroup]="myForm" novalidate (ngSubmit)="downloadFile_expertiseReport(myForm);resetForm();">
						<mat-list-item>
							<h4 mat-line>
							  <my-date-picker   name="date1" [options]="myDatePickerOptions" formControlName="date1"></my-date-picker>
							</h4>
							<h4 mat-line>
							<span *ngIf="!myForm.controls.date1.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error>
							 </span>
							 </h4>
						</mat-list-item>
						<mat-list-item>
							<h4 mat-line>
							  <my-date-picker  name="date2" [options]="myDatePickerOptions" formControlName="date2"></my-date-picker>
							 </h4>
							<h4 mat-line>
							  <span *ngIf="!myForm.controls.date2.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error>
							  </span>
							</h4>
						</mat-list-item>
						<mat-list-item>
							<h4 mat-line>
							  <button type='submit' mat-raised-button color='primary'[disabled]="!myForm.valid">Ok</button>
							  <button type='button' mat-raised-button color='primary' (click)="resetForm()">{{ _reset }}</button>
                (Внимание! Список может формироваться до 30 минут. Не покидайте страницу.)
							</h4>
						</mat-list-item>
					</form>


				</mat-list>

		</mat-expansion-panel>

		  <mat-expansion-panel (opened)="setTrue(2,true)" (closed)="setTrue(2,false)">
			<mat-expansion-panel-header>
			  <mat-panel-title>
				{{_3b_expertise}}
			  </mat-panel-title>
			  <mat-panel-description>

			  <div *ngIf='panelOpenState2'>
				 <mat-chip-list><mat-chip color="accent" selected="true">{{_report_inform_note_after}}</mat-chip></mat-chip-list>
			  </div>
			  <div *ngIf='!panelOpenState2'>
				 {{_report_inform_note}}
			  </div>

			</mat-panel-description>
			</mat-expansion-panel-header>


			<span>{{  _expertise_field1_1 }}</span>
			<mat-list>
				    <form [formGroup]="myForm" novalidate (ngSubmit)="downloadFile_expertiseReport_3b(myForm);resetForm();">
						<mat-list-item>
							<h4 mat-line>
							  <my-date-picker   name="date1" [options]="myDatePickerOptions" formControlName="date1"></my-date-picker>
							</h4>
							<h4 mat-line>
							<span *ngIf="!myForm.controls.date1.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error>
							 </span>
							 </h4>
						</mat-list-item>
						<mat-list-item>
							<h4 mat-line>
							  <my-date-picker  name="date2" [options]="myDatePickerOptions" formControlName="date2"></my-date-picker>
							 </h4>
							<h4 mat-line>
							  <span *ngIf="!myForm.controls.date2.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error>
							  </span>
							</h4>
						</mat-list-item>
						<mat-list-item>
							<h4 mat-line>
							  <button type='submit' mat-raised-button color='primary'[disabled]="!myForm.valid">Ok</button>
							  <button type='button' mat-raised-button color='primary' (click)="resetForm()">{{ _reset }}</button>
                (Внимание! Список может формироваться до 30 минут. Не покидайте страницу.)
							</h4>
						</mat-list-item>
					</form>


				</mat-list>




		  </mat-expansion-panel>
		  <!--////-->
		  <mat-expansion-panel (opened)="setTrue(3,true)"
							   (closed)="setTrue(3,false)">

			<mat-expansion-panel-header>
				<mat-panel-title>
					{{ _3a_3b_other }}
				</mat-panel-title>

				<mat-panel-description>
				  <div *ngIf='panelOpenState3'>
					 <mat-chip-list><mat-chip color="accent" selected="true">{{_report_inform_note_after}}</mat-chip></mat-chip-list>
				  </div>
				  <div *ngIf='!panelOpenState3'>
					 {{_report_inform_note}}
				  </div>
				</mat-panel-description>
			</mat-expansion-panel-header>

			<span>{{  _expertise_field1_1 }}</span>
			<mat-list>
				    <form [formGroup]="myForm" novalidate (ngSubmit)="downloadFile_expertiseReport_3a3b(myForm);resetForm();">
						<mat-list-item>
							<h4 mat-line>
							  <my-date-picker   name="date1" [options]="myDatePickerOptions" formControlName="date1"></my-date-picker>
							</h4>
							<h4 mat-line>
							<span *ngIf="!myForm.controls.date1.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error>
							 </span>
							 </h4>
						</mat-list-item>
						<mat-list-item>
							<h4 mat-line>
							  <my-date-picker  name="date2" [options]="myDatePickerOptions" formControlName="date2"></my-date-picker>
							 </h4>
							<h4 mat-line>
							  <span *ngIf="!myForm.controls.date2.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error>
							  </span>
							</h4>
						</mat-list-item>
						<mat-list-item>
							<h4 mat-line>
							  <button type='submit' mat-raised-button color='primary'[disabled]="!myForm.valid">Ok</button>
							  <button type='button' mat-raised-button color='primary' (click)="resetForm()">{{ _reset }}</button>
                (Внимание! Список может формироваться до 30 минут. Не покидайте страницу.)
							</h4>
						</mat-list-item>
					</form>


				</mat-list>
			</mat-expansion-panel>
      <!--Контроль 3 группы на постановку нв Д-учет-->
      <mat-expansion-panel (opened)="setTrue(4,true)"
                           (closed)="setTrue(4,false)">

        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ _3a_3b_other_noNazrNoGosp }}
          </mat-panel-title>

          <mat-panel-description>
            <div *ngIf='panelOpenState4'>
              <mat-chip-list><mat-chip color="accent" selected="true">{{_report_inform_note_after}}</mat-chip></mat-chip-list><!--Выбранный отчет-->
            </div>
            <div *ngIf='!panelOpenState4'>
              {{_report_inform_note}}<!--Выберите тип отчета-->
            </div>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <span>{{  _expertise_field1_1 }}</span><!--Выберите временной период по счетам пролеченных-->
        <mat-list>
          <form [formGroup]="myForm" novalidate (ngSubmit)="downloadFile_expertiseReport_3a3b_noNazrNoGosp(myForm);resetForm();">
            <mat-list-item>
              <h4 mat-line>
                <my-date-picker   name="date1" [options]="myDatePickerOptions" formControlName="date1"></my-date-picker>
              </h4>
              <h4 mat-line>
							<span *ngIf="!myForm.controls.date1.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error><!--поле обязательно для заполнения-->
							 </span>
              </h4>
            </mat-list-item>
            <mat-list-item>
              <h4 mat-line>
                <my-date-picker  name="date2" [options]="myDatePickerOptions" formControlName="date2"></my-date-picker>
              </h4>
              <h4 mat-line>
							  <span *ngIf="!myForm.controls.date2.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error><!--поле обязательно для заполнения-->
							  </span>
              </h4>
            </mat-list-item>
            <mat-list-item>
              <h4 mat-line>
                <button type='submit' mat-raised-button color='primary'[disabled]="!myForm.valid">Ok</button>
                <button type='button' mat-raised-button color='primary' (click)="resetForm()">{{ _reset }}</button>
                (Внимание! Список может формироваться до 30 минут. Не покидайте страницу.)
              </h4>
            </mat-list-item>
          </form>


        </mat-list>
      </mat-expansion-panel>
      <!--Количество случаев, по которым по итогам диспансеризации установлена 3 группа здоровья -->
      <mat-expansion-panel class="example-section"  *ngIf="currentUser['role'][0].id === 777"
                           (opened)="setTrue(5,true)"
                           (closed)="setTrue(5,false)">

        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ _after_disp_3_group }}
          </mat-panel-title>

          <mat-panel-description>
            <div *ngIf='panelOpenState5'>
              <mat-chip-list><mat-chip color="accent" selected="true">{{_report_inform_note_after}}</mat-chip></mat-chip-list><!--Выбранный отчет-->
            </div>
            <div *ngIf='!panelOpenState5'>
              {{_report_inform_note}}<!--Выберите тип отчета-->
            </div>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <span>{{  _expertise_field1_1 }}</span><!--Выберите временной период по счетам пролеченных-->
        <mat-list>
          <form [formGroup]="myForm" novalidate (ngSubmit)="downloadFile_expertiseReport_after_disp_3_group(myForm);resetForm();">
            <mat-list-item>
              <h4 mat-line>
                <my-date-picker   name="date1" [options]="myDatePickerOptions" formControlName="date1"></my-date-picker>
              </h4>
              <h4 mat-line>
							<span *ngIf="!myForm.controls.date1.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error><!--поле обязательно для заполнения-->
							 </span>
              </h4>
            </mat-list-item>
            <mat-list-item>
              <h4 mat-line>
                <my-date-picker  name="date2" [options]="myDatePickerOptions" formControlName="date2"></my-date-picker>
              </h4>
              <h4 mat-line>
							  <span *ngIf="!myForm.controls.date2.valid" class="help-block text-danger">
								<mat-error>{{ _field_is_required }}</mat-error><!--поле обязательно для заполнения-->
							  </span>
              </h4>
            </mat-list-item>
            <mat-list-item>
              <h4 mat-line>
                <button type='submit' mat-raised-button color='primary'[disabled]="!myForm.valid">Ok</button>
                <button type='button' mat-raised-button color='primary' (click)="resetForm()">{{ _reset }}</button>
                (Внимание! Список может формироваться до 30 минут. Не покидайте страницу.)
              </h4>
            </mat-list-item>
          </form>


        </mat-list>
      </mat-expansion-panel>
      <!--///-->
    </mat-accordion>
	</mat-card-content>
</div>
<div class="list_files" *ngIf="filesExpertise.length > 0; else other_content">
	<mat-list *ngFor="let row of filesExpertise; let i = index" (click)="downloadFile(row.namefile)">
						  <h3 mat-subheader *ngIf="i==0">{{ _list_resolved }}</h3>
						  <mat-list-item class="mycustomlist">
							<mat-icon mat-list-icon>note</mat-icon>
							<h4 mat-line>{{row.namefile}}</h4>
							<p mat-line>{{_reestr_download}}</p>
						</mat-list-item>
	</mat-list>
</div>
	  <ng-template #other_content>
	  	<div><h1><mat-spinner style="margin:auto; margin-top:50px;"></mat-spinner></h1></div>
	  </ng-template>
</div>
</mat-card>
